{"swagger": "2.0", "info": {"title": "IluminaJá API", "description": "API para gestão de postes, lâmpadas, manutenções e usuários", "contact": {"email": "suporte@iluminaja.com"}, "license": {"name": "MIT License"}, "version": "v1"}, "host": "127.0.0.1:8000", "schemes": ["http"], "basePath": "/api", "consumes": ["application/json"], "produces": ["application/json"], "securityDefinitions": {"Bearer": {"type": "apiKey", "name": "Authorization", "in": "header"}}, "security": [{"Bearer": []}], "paths": {"/lampadas/": {"get": {"operationId": "lampadas_list", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/Lampada"}}}}, "tags": ["lampadas"]}, "post": {"operationId": "lampadas_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Lampada"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Lampada"}}}, "tags": ["lampadas"]}, "parameters": []}, "/lampadas/{id}/": {"get": {"operationId": "lampadas_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Lampada"}}}, "tags": ["lampadas"]}, "put": {"operationId": "lampadas_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Lampada"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Lampada"}}}, "tags": ["lampadas"]}, "patch": {"operationId": "lampadas_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Lampada"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Lampada"}}}, "tags": ["lampadas"]}, "delete": {"operationId": "lampadas_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["lampadas"]}, "parameters": [{"name": "id", "in": "path", "description": "Um valor inteiro único que identifica este lampada.", "required": true, "type": "integer"}]}, "/manutencoes/": {"get": {"operationId": "manutencoes_list", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/Manutencao"}}}}, "tags": ["manutencoes"]}, "post": {"operationId": "manutencoes_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Manutencao"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Manutencao"}}}, "tags": ["manutencoes"]}, "parameters": []}, "/manutencoes/{id}/": {"get": {"operationId": "manutencoes_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Manutencao"}}}, "tags": ["manutencoes"]}, "put": {"operationId": "manutencoes_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Manutencao"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Manutencao"}}}, "tags": ["manutencoes"]}, "patch": {"operationId": "manutencoes_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Manutencao"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Manutencao"}}}, "tags": ["manutencoes"]}, "delete": {"operationId": "manutencoes_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["manutencoes"]}, "parameters": [{"name": "id", "in": "path", "description": "Um valor inteiro único que identifica este manutencao.", "required": true, "type": "integer"}]}, "/postes/": {"get": {"operationId": "postes_list", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/Poste"}}}}, "tags": ["postes"]}, "post": {"operationId": "postes_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Poste"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Poste"}}}, "tags": ["postes"]}, "parameters": []}, "/postes/{id}/": {"get": {"operationId": "postes_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Poste"}}}, "tags": ["postes"]}, "put": {"operationId": "postes_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Poste"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Poste"}}}, "tags": ["postes"]}, "patch": {"operationId": "postes_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Poste"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Poste"}}}, "tags": ["postes"]}, "delete": {"operationId": "postes_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["postes"]}, "parameters": [{"name": "id", "in": "path", "description": "Um valor inteiro único que identifica este poste.", "required": true, "type": "integer"}]}, "/token/": {"post": {"operationId": "token_create", "description": "Takes a set of user credentials and returns an access and refresh JSON web\ntoken pair to prove the authentication of those credentials.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/TokenObtainPair"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/TokenObtainPair"}}}, "tags": ["token"]}, "parameters": []}, "/token/refresh/": {"post": {"operationId": "token_refresh_create", "description": "Takes a refresh type JSON web token and returns an access type JSON web\ntoken if the refresh token is valid.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/TokenRefresh"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/TokenRefresh"}}}, "tags": ["token"]}, "parameters": []}, "/usuarios/": {"get": {"operationId": "usuarios_list", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"type": "array", "items": {"$ref": "#/definitions/Usuario"}}}}, "tags": ["usuarios"]}, "post": {"operationId": "usuarios_create", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Usuario"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/Usuario"}}}, "tags": ["usuarios"]}, "parameters": []}, "/usuarios/{id}/": {"get": {"operationId": "usuarios_read", "description": "", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Usuario"}}}, "tags": ["usuarios"]}, "put": {"operationId": "usuarios_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Usuario"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Usuario"}}}, "tags": ["usuarios"]}, "patch": {"operationId": "usuarios_partial_update", "description": "", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/Usuario"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Usuario"}}}, "tags": ["usuarios"]}, "delete": {"operationId": "usuarios_delete", "description": "", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["usuarios"]}, "parameters": [{"name": "id", "in": "path", "description": "Um valor inteiro único que identifica este usuário.", "required": true, "type": "integer"}]}}, "definitions": {"Lampada": {"required": ["tipo", "vida_util_meses", "data_instalacao", "status", "poste"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "tipo": {"title": "Tipo", "type": "string", "enum": ["LED", "Vapor de Sódio", "Fluorescente", "Incandescente", "Halógena", "Outros"]}, "potencia": {"title": "Potencia", "description": "Potência em Watts", "type": "integer", "maximum": 9223372036854775807, "minimum": 0}, "vida_util_meses": {"title": "Vida util meses", "type": "integer", "maximum": 9223372036854775807, "minimum": 0}, "data_instalacao": {"title": "Data instalacao", "type": "string", "format": "date"}, "status": {"title": "Status", "type": "string", "enum": ["Funcionando", "Queimada", "Substituída"]}, "poste": {"title": "Poste", "type": "integer"}}}, "Manutencao": {"required": ["data_manutencao", "tipo", "poste"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "data_manutencao": {"title": "Data manutencao", "type": "string", "format": "date"}, "tipo": {"title": "Tipo", "type": "string", "enum": ["substituicao", "reparo", "inspecao", "outro"]}, "descricao": {"title": "Descricao", "type": "string"}, "status": {"title": "Status", "type": "string", "enum": ["pendente", "concluido", "cancelado"]}, "poste": {"title": "Poste", "type": "integer"}, "lampada": {"title": "Lampada", "type": "integer", "x-nullable": true}, "responsavel": {"title": "Responsavel", "type": "integer", "x-nullable": true}}}, "Poste": {"required": ["problema", "informacao"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "problema": {"title": "Problema", "type": "string", "maxLength": 200, "minLength": 1}, "informacao": {"title": "Informacao", "type": "string", "minLength": 1}, "cep": {"title": "Cep", "type": "string", "maxLength": 9, "minLength": 1}, "rua": {"title": "Rua", "type": "string", "maxLength": 255, "minLength": 1}, "numero": {"title": "Numero", "type": "string", "maxLength": 10, "minLength": 1}, "bairro": {"title": "Bairro", "type": "string", "maxLength": 100, "minLength": 1}, "cidade": {"title": "Cidade", "type": "string", "maxLength": 100, "minLength": 1}, "estado": {"title": "Estado", "type": "string", "maxLength": 2, "minLength": 1}, "data_hora": {"title": "Data hora", "type": "string", "format": "date-time", "readOnly": true}, "status": {"title": "Status", "type": "integer", "enum": [0, 1, 2, 3]}}}, "TokenObtainPair": {"required": ["username", "password"], "type": "object", "properties": {"username": {"title": "Username", "type": "string", "minLength": 1}, "password": {"title": "Password", "type": "string", "minLength": 1}}}, "TokenRefresh": {"required": ["refresh"], "type": "object", "properties": {"refresh": {"title": "Refresh", "type": "string", "minLength": 1}, "access": {"title": "Access", "type": "string", "readOnly": true, "minLength": 1}}}, "PerfilUsuario": {"type": "object", "properties": {"tipo_tecnico": {"title": "Tipo tecnico", "type": "string", "enum": ["tecnico", "prefeitura", "outro"], "x-nullable": true}}}, "Usuario": {"required": ["email"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "first_name": {"title": "Primeiro nome", "type": "string", "maxLength": 150}, "email": {"title": "Email", "type": "string", "format": "email", "maxLength": 254, "minLength": 1}, "perfilusuario": {"$ref": "#/definitions/PerfilUsuario"}}}}}